import{j as e,r as S,u as U,S as H,V as M,_ as i,a as w,s as W,b as F}from"./index-zoCVIjJL.js";import{i as L,u as g,a as z}from"./index-BqsNzaDg.js";import{C as D}from"./Container-MXTZrV9A.js";import{c as T,P as E,T as s}from"./Modal-D8Ubx5EF.js";import{T as l}from"./TextField-qgC9iujP.js";import{B as h}from"./Button-DiAwvBb8.js";import{A as V}from"./Avatar-CEZlIwUk.js";import{I as q}from"./IconButton-DbI5Ym2I.js";import"./ButtonBase-Cn_JI8Ky.js";import"./isMuiElement-BG5RyRtW.js";import"./Menu-BjFoS8hj.js";const R=T([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt"),B=f=>{if(!L(f))return{isValid:!1,errorMessage:"Username is Invalid"}},Z=()=>{const[f,I]=S.useState(!0),[b,m]=S.useState(!1),C=()=>I(c=>!c),v=g(""),y=g(""),o=g("",B),t=g(""),d=z(),j=U(),k=async c=>{var x,u;c.preventDefault();const p=i.loading("Logging In...");m(!0);const a={withCredentials:!0,headers:{"Content-Type":"application/json"}};try{const{data:n}=await w.post(`${W}/api/v1/user/login`,{username:o.value,password:t.value},a);j(F(n.user)),i.success(n.message,{id:p})}catch(n){i.error(((u=(x=n==null?void 0:n.response)==null?void 0:x.data)==null?void 0:u.message)||"Something Went Wrong",{id:p})}finally{m(!1)}},A=async c=>{var u,n;c.preventDefault();const p=i.loading("Signing Up...");m(!0);const a=new FormData;a.append("avatar",d.file),a.append("name",v.value),a.append("bio",y.value),a.append("username",o.value),a.append("password",t.value);const x={withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}};try{const{data:r}=await w.post(`${W}/api/v1/user/new`,a,x);j(F(r.user)),i.success(r.message,{id:p})}catch(r){i.error(((n=(u=r==null?void 0:r.response)==null?void 0:u.data)==null?void 0:n.message)||"Something Went Wrong",{id:p})}finally{m(!1)}};return e.jsx("div",{style:{backgroundImage:`
      linear-gradient(90deg, #fbeee0 0%, #fbefe3 25%, #fbf1e6 50%, #fcf3e9 75%, #fcf4ec 100%)
    `},children:e.jsx(D,{component:"main",maxWidth:"xs",sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(E,{elevation:3,sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#F5F5FA"},children:f?e.jsxs(e.Fragment,{children:[e.jsx(s,{sx:{fontWeight:"bold",color:"#2a1f62",fontFamily:'"Cascadia Code", Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace',fontSize:"2rem"},children:"Login"}),e.jsxs("form",{style:{width:"100%",marginTop:"1rem"},onSubmit:k,children:[e.jsx(l,{required:!0,fullWidth:!0,label:"Username",margin:"normal",variant:"outlined",value:o.value,onChange:o.changeHandler}),e.jsx(l,{required:!0,fullWidth:!0,label:"Password",margin:"normal",variant:"outlined",type:"password",value:t.value,onChange:t.changeHandler}),e.jsx(h,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,disabled:b,sx:{marginTop:"1rem",backgroundColor:"#fbeee0",border:"2px solid #422800",borderRadius:"30px",boxShadow:"4px 4px 0 0 #422800",color:"#422800",cursor:"pointer",display:"inline-block",fontWeight:600,fontSize:"18px",padding:"0 18px",lineHeight:"50px",textAlign:"center",textDecoration:"none",userSelect:"none",WebkitUserSelect:"none",touchAction:"manipulation","&:hover":{backgroundColor:"#fff"},"&:active":{boxShadow:"2px 2px 0 0 #422800",transform:"translate(2px, 2px)"},"@media (min-width: 768px)":{minWidth:"120px",padding:"0 25px"}},children:"Login"}),e.jsx(s,{textAlign:"center",m:"1rem",sx:{fontWeight:"bold",color:"#2a1f62",fontFamily:'"Cascadia Code", Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace',fontSize:"1rem"},children:"or"}),e.jsx(h,{variant:"text",fullWidth:!0,type:"submit",onClick:C,sx:{alignItems:"center",background:"#FFFFFF",border:"0 solid #E2E8F0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",boxSizing:"border-box",color:"#1A202C",display:"inline-flex",fontFamily:"Inter, sans-serif",fontSize:"1rem",fontWeight:700,height:"56px",justifyContent:"center",lineHeight:"24px",overflowWrap:"break-word",padding:"24px",textDecoration:"none",width:"100%",borderRadius:"8px",cursor:"pointer",userSelect:"none",WebkitUserSelect:"none",touchAction:"manipulation"},children:"Sign Up Instead"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(s,{variants:"h5",sx:{fontWeight:"bold",color:"#2a1f62",fontFamily:'"Cascadia Code", Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace',fontSize:"2rem"},children:"Sign Up"}),e.jsxs("form",{style:{width:"100%",marginTop:"1rem"},onSubmit:A,children:[e.jsxs(H,{position:"relative",width:"10rem",margin:"auto",children:[e.jsx(V,{sx:{width:"10rem",height:"10rem",objectFit:"contain"},src:d.preview}),e.jsx(q,{sx:{position:"absolute",bottom:"0",right:"0",color:"white",bgcolor:"rgba(0, 0, 0, 0.5)",":hover":{bgcolor:"rgba(0, 0, 0, 0.7)"}},component:"label",children:e.jsxs(e.Fragment,{children:[e.jsx(R,{}),e.jsx(M,{type:"file",onChange:d.changeHandler})]})})]}),d.error&&e.jsx(s,{m:"1rem auto",width:"fit-content",display:"block",color:"error",variant:"caption",children:d.error}),e.jsx(l,{required:!0,fullWidth:!0,label:"Name",margin:"normal",variant:"outlined",value:v.value,onChange:v.changeHandler}),e.jsx(l,{required:!0,fullWidth:!0,label:"Bio",margin:"normal",variant:"outlined",value:y.value,onChange:y.changeHandler}),e.jsx(l,{required:!0,fullWidth:!0,label:"Username",margin:"normal",variant:"outlined",value:o.value,onChange:o.changeHandler}),o.error&&e.jsx(s,{color:"error",variant:"caption",children:o.error}),e.jsx(l,{required:!0,fullWidth:!0,label:"Password",margin:"normal",variant:"outlined",type:"password",value:t.value,onChange:t.changeHandler}),e.jsx(h,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,disabled:b,sx:{marginTop:"1rem",backgroundColor:"#fbeee0",border:"2px solid #422800",borderRadius:"30px",boxShadow:"4px 4px 0 0 #422800",color:"#422800",cursor:"pointer",display:"inline-block",fontWeight:600,fontSize:"18px",padding:"0 18px",lineHeight:"50px",textAlign:"center",textDecoration:"none",userSelect:"none",WebkitUserSelect:"none",touchAction:"manipulation","&:hover":{backgroundColor:"#fff"},"&:active":{boxShadow:"2px 2px 0 0 #422800",transform:"translate(2px, 2px)"},"@media (min-width: 768px)":{minWidth:"120px",padding:"0 25px"}},children:"Sign Up"}),e.jsx(s,{textAlign:"center",m:"1rem",sx:{fontWeight:"bold",color:"#2a1f62",fontFamily:'"Cascadia Code", Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace',fontSize:"1rem"},children:"or"}),e.jsx(h,{variant:"text",fullWidth:!0,type:"submit",onClick:C,disabled:b,sx:{alignItems:"center",background:"#FFFFFF",border:"0 solid #E2E8F0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",boxSizing:"border-box",color:"#1A202C",display:"inline-flex",fontFamily:"Inter, sans-serif",fontSize:"1rem",fontWeight:700,height:"56px",justifyContent:"center",lineHeight:"24px",overflowWrap:"break-word",padding:"24px",textDecoration:"none",width:"100%",borderRadius:"8px",cursor:"pointer",userSelect:"none",WebkitUserSelect:"none",touchAction:"manipulation"},children:"Login Instead"})]})]})})})})};export{Z as default};
