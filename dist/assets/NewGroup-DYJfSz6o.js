import{c as G,u as w,b2 as N,r as v,j as e,S as i,t as M,b3 as y,_ as m,M as C}from"./index-zoCVIjJL.js";import{u as S}from"./index-BqsNzaDg.js";import{b as A}from"./hook-Bpn_aVtV.js";import{U as T}from"./UserItem-CRkH8SJt.js";import{D,a as H}from"./DialogTitle-BogMBega.js";import{T as _}from"./TextField-qgC9iujP.js";import{T as k}from"./Modal-D8Ubx5EF.js";import{B as c}from"./Button-DiAwvBb8.js";import"./ButtonBase-Cn_JI8Ky.js";import"./ListItem-Dt54R3ud.js";import"./Menu-BjFoS8hj.js";import"./isMuiElement-BG5RyRtW.js";import"./Avatar-CEZlIwUk.js";import"./IconButton-DbI5Ym2I.js";import"./Delete-BOD66oR7.js";const Y=()=>{var l;const{isNewGroup:u}=G(r=>r.misc),p=w(),s=S(""),{isError:E,isLoading:d,error:I,data:t}=N(),[x,h]=A(y),[o,f]=v.useState([]),b=r=>{f(a=>a.includes(r)?a.filter(j=>j!==r):[...a,r])},g=()=>{if(!s.value)return m.error("Group name is required");if(o.length<2)return m.error("Please Select Atleast 3 Members");x("Creating New Group...",{name:s.value,members:o}),n()},n=()=>{p(C(!1))};return e.jsx(D,{onClose:n,open:u,children:e.jsxs(i,{p:{xs:"1rem",sm:"3rem"},spacing:"2rem",children:[e.jsx(H,{textAlign:"center",variant:"h4",children:"New Groups"}),e.jsx(_,{label:"Group Name",value:s.value,onChange:s.changeHandler}),e.jsx(k,{variant:"body1",children:"Members"}),e.jsx(i,{children:d?e.jsx(M,{}):(l=t==null?void 0:t.friends)==null?void 0:l.map(r=>e.jsx(T,{user:r,handler:b,isAdded:o.includes(r._id)},r._id))}),e.jsxs(i,{direction:"row",justifyContent:"space-evenly",children:[e.jsx(c,{variant:"text",color:"error",size:"large",children:"Cancel"}),e.jsx(c,{variant:"contained",size:"large",onClick:g,disabled:h,children:"Create"})]})]})})};export{Y as default};
